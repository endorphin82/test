(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,a){e.exports=a(139)},115:function(e,t,a){},139:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),o=(a(115),a(42)),i=a(98),m=a.n(i),s=a(100),u=a(88),d=a.n(u),E=a(89),p=a.n(E),f=Object(s.a)({typography:{useNextVariants:!0,color:"#fff"},palette:{type:"dark",primary:{main:"#E535AB"},secondary:d.a,error:p.a,contrastThreshold:3,tonalOffset:.2,contrastText:"#fff"}}),h=a(18),g=Object(h.a)(),b=a(5),v=a(17),_=function(e){return{root:{width:"100%",overflowX:"auto",marginBottom:e.spacing(3)},cellMinWidth:{minWidth:120},flexible:{display:"flex"},flexible_right:{marginLeft:"auto"},header2:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}},O=a(20),y=a(40),A=a(34);function w(e){return e.valueSeq().toArray()}var L=function(e){return e.articles.entities},x=function(e,t){return t.id},I=Object(y.a)(L,function(e){return w(e)}),j=Object(y.a)(L,function(e){return w(e).reduce(function(e,t){return e+t.comments.length},0)}),C=Object(y.a)(L,function(e){return w(e).length}),T="https://api.mlab.com/api/1/databases/".concat("articles-test","/collections/").concat("articles","/").concat("5d5a7e239e635d239b5141ad","?apiKey=").concat("gAYaGjY3RMfGx3cUK-VxFOj8SzJDziOe"),S=a(92),D=a.n(S),M=Object(v.a)(Object(b.a)(_,{withTheme:!0}),Object(O.c)(function(e){return{articles:I(e),loading:e.articles.loading}},{loadAllArticles:function(){return function(e){return e({type:"LOAD_ALL_ARTICLES_START"}),D.a.get(T).then(function(e){return e.data}).then(function(t){return e({type:"LOAD_ALL_ARTICLES_SUCCESS",response:t.posts})}).catch(function(t){return e({type:"LOAD_ALL_ARTICLES_FAILURE",payload:{errors:t}})})}},deleteArticleById:function(e){return{type:"DELETE_ARTICLE_BY_ID",payload:{id:e}}}})),B=a(154),z=Object(v.a)(Object(b.a)(function(e){return{progress:{margin:e.spacing(2)}}}))(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,{className:t.progress}))}),N=a(157),R=a(158),V=a(159),H=a(160),k=a(161),F=a(162),W=a(166),Y=a(164),U=a(169),X=a(155),J=a(168),P=a(156),G=a(69);var K=M(function(e){var t=e.articles,a=e.loading,l=e.classes,c=e.loadAllArticles,o=e.deleteArticleById;return Object(n.useEffect)(function(){a||c()}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,null),r.a.createElement(X.a,{fixed:!0},r.a.createElement(P.a,{className:l.header2,variant:"h4",component:"h3"},"Articles Table"),r.a.createElement(N.a,{className:l.root},r.a.createElement(R.a,null,r.a.createElement(V.a,null,r.a.createElement(H.a,null,r.a.createElement(k.a,{className:l.cellMinWidth},"Article title"),r.a.createElement(k.a,null,"Content"),r.a.createElement(k.a,null,"Comments"),r.a.createElement(k.a,null,"Actions"))),r.a.createElement(F.a,null,t.map(function(e){return r.a.createElement(H.a,{key:e.postId},r.a.createElement(k.a,{component:"th",scope:"row"},e.name),r.a.createElement(k.a,null,e.text),r.a.createElement(k.a,{align:"center"},e.comments.length),r.a.createElement(k.a,{align:"right"},r.a.createElement("div",{className:l.flexible},r.a.createElement(J.a,{title:"View"},r.a.createElement(W.a,{"aria-label":"View"},r.a.createElement(G.a,{"aria-label":"View comments",to:"/articles/".concat(e.postId),style:{color:"white"},activeStyle:{color:"gold"}},r.a.createElement(Y.a,null,r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}))))),r.a.createElement(J.a,{title:"Delete"},r.a.createElement(W.a,{onClick:function(){return o(e.postId)},color:"secondary","aria-label":"Delete"},r.a.createElement(Y.a,{style:{color:"white"}},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))))))})))))):r.a.createElement(z,null)}),q=a(165),$=Object(v.a)(Object(b.a)(_));var Q=Object(v.a)(Object(b.a)(function(e){return{flexible_right:{marginLeft:"auto"}}}),Object(O.c)(function(e){return{countArticles:C(e)}},null))(function(e){var t=e.countArticles,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{style:{padding:"10px"},variant:"h4",component:"h3"},t),r.a.createElement(P.a,{style:{padding:"10px"},variant:"h4",component:"h3"},"Articles"),r.a.createElement(W.a,{style:{paddingRight:"15px"},className:a.flexible_right,"aria-label":"View"},r.a.createElement(Y.a,null,r.a.createElement("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))))});var Z=Object(v.a)(Object(b.a)(function(e){return{flexible_right:{marginLeft:"auto"}}}),Object(O.c)(function(e){return{countComments:j(e)}},null))(function(e){var t=e.countComments,a=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,{style:{padding:"10px"},variant:"h4",component:"h3"},t),r.a.createElement(P.a,{style:{padding:"10px"},variant:"h4",component:"h3"},"Comments"),r.a.createElement(W.a,{style:{paddingRight:"15px"},className:a.flexible_right,"aria-label":"View"},r.a.createElement(Y.a,null,r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1zm-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1z"}))))}),ee=$(function(e){var t=e.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{fixed:!0},r.a.createElement(q.a,{container:!0,spacing:3},r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(N.a,{className:t.flexible},r.a.createElement(Q,null))),r.a.createElement(q.a,{item:!0,xs:12,sm:6},r.a.createElement(N.a,{className:t.flexible},r.a.createElement(Z,null))))))}),te=a(23),ae=a(75),ne=a(167),re=Object(v.a)(Object(b.a)(function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(0,4,4)},cellMinWidth:{minWidth:120}}}))(function(e){var t=e.classes,a=e.comments,n=e.id,l=e.name,c=e.onDeleteCommentByIndexByArticleId,o=r.a.useState({left:"50%",top:"50%",transform:"translate(-50%, -50%)"}),i=Object(ae.a)(o,1)[0],m=r.a.useState(!0,function(){return!0}),s=Object(ae.a)(m,2),u=s[0],d=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:u,onClose:function(){d(!1),g.goBack()}},r.a.createElement("div",{style:i,className:t.paper},r.a.createElement("h2",{id:"simple-modal-title"},'Comments for Article "',l,'"'),r.a.createElement(R.a,null,r.a.createElement(V.a,null,r.a.createElement(H.a,null,r.a.createElement(k.a,{className:t.cellMinWidth},"Comment"),r.a.createElement(k.a,null,"Remove"))),r.a.createElement(F.a,null,a.map(function(e,t){return r.a.createElement(H.a,{key:t},r.a.createElement(k.a,{component:"th",scope:"row"},e.text),r.a.createElement(k.a,null,r.a.createElement(J.a,{title:"Delete"},r.a.createElement(W.a,{onClick:function(){return c(n,t)},color:"secondary","aria-label":"Delete"},r.a.createElement(Y.a,{style:{color:"white"}},r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),r.a.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))))))}))))))}),le=Object(v.a)(Object(b.a)(function(e){return{root:{width:"100%",overflowX:"auto",marginBottom:e.spacing(3)},cellMinWidth:{minWidth:120},flexible:{display:"flex"},flexible_right:{marginLeft:"auto"},header2:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}}),Object(O.c)(function(e,t){var a=Object(y.a)(L,x,function(e,t){return e.get(t).comments});return{name:Object(y.a)(L,x,function(e,t){return e.get(t).name})(e,t),comments:a(e,t)}},{deleteCommentByIndexByArticleId:function(e,t){return{type:"DELETE_COMMENT_BY_IND_BY_ARTICLE_ID",payload:{articleId:e,ind:t}}}}));function ce(e){var t=e.id,a=e.comments,n=e.name,l=e.deleteCommentByIndexByArticleId;return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{comments:a,id:t,name:n,onDeleteCommentByIndexByArticleId:l}))}ce.defaultProps={comments:[],name:"",id:null};var oe=le(ce),ie=function(e){var t=e.match.params.id;return r.a.createElement(oe,{id:t})};var me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K,null),r.a.createElement(te.a,{path:"/articles/:id",render:ie}),r.a.createElement(ee,null))};var se=function(){return r.a.createElement(o.a,{history:g},r.a.createElement(m.a,{theme:f},r.a.createElement(me,null)))},ue=a(31),de=Object(A.c)({postId:void 0,name:"",text:void 0,loading:!1,comments:[]}),Ee=new new A.c({loading:!1,loaded:!1,error:void 0,entities:new A.b({})}),pe=Object(o.b)(g),fe=Object(ue.c)({articles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.response,r=t.error,l=t.payload;switch(a){case"LOAD_ALL_ARTICLES_START":return e.set("loading",!0);case"LOAD_ALL_ARTICLES_SUCCESS":return e.update("entities",function(e){return e.merge(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.a;return e.reduce(function(e,a){return e.set(a.postId,new t(a))},new A.b({}))}(n,de))}).set("loading",!0).set("loaded",!0);case"LOAD_ALL_ARTICLES_FAILURE":return e.set("error",r).set("loading",!1).set("loaded",!1);case"DELETE_ARTICLE_BY_ID":return e.update("entities",function(e){return e.filter(function(e){return e.postId!==l.id})});case"DELETE_COMMENT_BY_IND_BY_ARTICLE_ID":var c=l.articleId,o=l.ind;return e.removeIn(["entities",c,"comments",o]);default:return e}},router:pe}),he=a(87),ge=a(99),be=Object(he.a)(g),ve=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ue.d)(Object(ue.a)(ge.a,be)),_e=Object(ue.e)(fe,{},ve);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O.a,{store:_e},r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[110,1,2]]]);
//# sourceMappingURL=main.e3ad55fc.chunk.js.map